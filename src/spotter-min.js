spotter={};Spotter=spotter;spotter.spotterFactory=function(m,options){function _spotter(v){var varName=v;var lastCallReturned=true;var lastScriptTag=null;this.observers=new Array();var module=eval("spotter.modules."+m+";")(options);this.spot=function(seconds){if((!seconds||seconds<1)&&lastCallReturned){var url=module.url();url+="&callback="+varName+".callback";url+="&random="+Math.floor(Math.random()*10000);request(url)}else{this.spot();var obj=this;this.intervalTImer=setInterval(function(){obj.spot()},seconds*1000)}};this.callback=function(data){var results=module.callback(data);if(results.update){this.notifyObservers(results)}lastCallReturned=true};function request(url){var head=document.getElementsByTagName("head");var script=document.createElement("script");script.id="spotter_request"+varName;script.type="text/javascript";script.src=url;if(lastScriptTag!=null){head[0].removeChild(lastScriptTag)}head[0].appendChild(script);lastScriptTag=script}this.registerObserver=function(observer){if(observer.notify!=undefined&&typeof observer.notify=="function"){this.observers.push(observer)}else{throw new TypeError("Spotter: observer must implement a notify method.")}};this.notifyObservers=function(tweets){for(var i in this.observers){this.observers[i].notify(tweets)}}}this.instanceCount=Spotter.instanceCount==null?1:Spotter.instanceCount++;var variable_name="__SPOTTER_OBJECT_"+Spotter.instanceCount+Math.floor(Math.random()*100);var script=variable_name+' = new _spotter("'+variable_name+'");';return eval(script)};